=== TME PoC Workshop
====
- Engagement Date:		October 6th, 2021
- Customer Project:     Evaluate PoC Camunda
- Camunda Contact:
** Paul Lungu[paul.lungu@camunda.com]
** Glen Brown[glen.brown@camunda.com]
** Sebastien Paltrie[sebastien.paltrie@camunda.com]
====

=== Summary
The purpose of the workshop is to discuss and demonstrate Camunda concepts and to generally enable TME team to evaluate Camunda and eventually modernize business process with Camunda.

=== Preparation for PoC

IMPORTANT: Preparing for a PoC is important. Please follow the points below to ensure that we can get a smooth and productive start to the PoC Workshop.

- [x] Confirm goals are acceptable <<poc-goals, See Poc Goals>>
- [x] Confirm agenda is within scope <<poc-agenda, See PoC Agenda>>
- [x] Contact info for primary contact on TME side
** Christophe.Renaud@toyota-europe.com
- [x] Provide Infrastructure Guidelines for PoC <<poc-tech-stack-infra, See PoC Infra Section>> and confirm Infra for PoC
- [x] Confirm integrations for Poc. <<poc-integrations, See PoC Integrations Section>>
- [x] Provide Name and Email of participants several days prior to the start of the PoC
//** maryana.kartashevska@toyota-im.com (TME)
//** Peter.Kovacs@toyota-europe.com (TME)
//** Julien.Vandichel@toyota-europe.com (TME)
//** Mathieu.Bernasconi@toyota-europe.com (TME)
//
//** Alexander.Schilff@kinto-mobility.eu (Kinto)
//** daniela.echaniz@kinto-mobility.eu (Kinto)
//
//** Tom.Van.Looy@external.toyota-europe.com (External TME)
//** Christos.Anagnostakis@external.toyota-europe.com (External TME)
//** David.Navarro@external.toyota-europe.com (External TME)
//** Harish.Krishnamoorthy@external.toyota-europe.com (External TME)
//** Neil.Fleurs@external.toyota-europe.com (External TME)
//** Pascale.Budzinski@external.toyota-europe.com (External TME)

//** Vivek.Chaturvedi@external.toyota-europe.com (INFOSYS, TME)

- [x] Block time of participants in Calendars
- [x] Send out invitations to all participants
* If hands on sessions are planned download all the tools or confirm access to saas tools
** [ ] https://camunda.com/download/modeler/[Download Camunda Modeler]
** [x] Confirm Access to https://cawemo.com/[Cawemo] - Invitations to the project will be sent out from Cawemo.com

=== [[poc-goals]] Goals
- [x] Understand and demonstrate flexibility, reuseablility, and agility with Camunda lifecycle design, execution and improvement.
** [x] Deep dive hands-on modeling BPMN and DMN
** [x] Deep dive hands-on for key technical deliverables
** [x] Demonstrate low barier to productivity and light learning curve for devs
** [x] Understand Camunda LifeCycle and related agile principles
- [x] Understand transparent change management with Camunda
- [x] Demonstrate a process running in Camunda engine
- [x] Demonstrate capability to monitor and handle exception and incidents in business process orchestrations
- [x] Demonstrate integration patterns with BPMN, Camunda and other technologies to enable third party integrations
- [x] UI integration to demonstrate technical concepts interacting with Camunda engine
- [x] Discuss architectural concepts related to Infra, Design, Modeling and Patterns
- [x] Understand how Camunda Platform, BPMN and DMN fit into overall architecture
- [x] Understand reporting with Camunda
- [x] Deliver key documentation to ensure best practices in scope of PoC

=== [[poc-agenda]]Agenda (Draft)

[cols="1,1,1,1"]
|===
|Date | Hours | Description | Responsible

|Oct 6, 2021
|44 Total Estimated
|PoC Start
|TME and Camunda

|Oct 6, 2021 - 15:00 CEST / 7am MDT
|.5
|TME present use case, project overview

- Camunda to provide short intro to the Camunda Platform
|TME and Camunda

|Oct 6, 2021 - 15:30 CEST
|2
|Camunda and TME Hands on Modeling with Cawemo Biz Modeler and Camunda Desktop Modeler

- Modeling business requirements,

- Technical modeling and deploying the process to Camunda.
|TME and Camunda

|Oct 7, 2021 - 15:00 CEST
|2.5
|Camunda and TME Hands on Modeling DMN Business Rules with Camunda Desktop Modeler

- Modeling business requirements,

- Technical modeling and deploying the DMN to Camunda.
|TME and Camunda

|Oct 12, 2021 - 15:00 CEST  / 7am MDT
|3
|Camunda and TME hands on technical walk through

- Setting up a Project in Spring-Boot and Deploying locally with Camunda, Docker and Kubernetes.
|TME and Camunda

|*Canceled*
|
|Camunda and TME hands on technical walk through integration with

- Java,

- ReactJS UI,

- Message Bus (AMQP),

- SMS Notification (Twilio)
|TME and Camunda

|Oct 15, 2021 - 15:30 / 7:30am MDT
|1
|Demo Preparation and PoC DEMO Contingency Discussion
|Camunda and TME

|Oct 26, 2021 - 15:00 / 7am MDT
|2.5
|PoC DEMO
|Camunda

|===

=== Workshop 1 - Camunda Platform, Modeling BPMN

image:./images/camunda-platform.png[Process Usecase]

- Camunda process automation life-cycle lends itself well to agile and iterative design principles. Camunda provides powerful and flexible tools in each phase of the life-cycle allowing process designers, developers, workflow operators and business analysts to effectively create, code, operate and analyse business process from start to finish.

** *Design Phase* business and it collaboration with Cawemo and Desktop Modeler
** *Automate and Execute Phase* technical and operational execution of process, interaction with process from operational and end user standpoint
** *Improvement Phase*
-  *Agility* Camunda allows us

==== Modeling
- Business modeling with https://cawemo.com/[Cawemo]
- Technical Modeling with https://camunda.com/download/modeler/[Camunda Modeler]
- Framework to https://bpmn.io/[customize modeling experience]
- https://github.com/camunda/camunda-modeler/tree/master/docs/element-templates[Element Templates] for configuring modeling experience
- https://camunda.com/best-practices/building-flexibility-into-bpmn-models/[Modeling best practices]

==== Engine Fundamentals
- Understanding https://docs.camunda.org/manual/7.15/user-guide/process-engine/transactions-in-processes/[Transactions and Thread Control]
- Understand https://docs.camunda.org/manual/7.15/user-guide/process-engine/history/[Camunda History, Audit and Cleanup]
//**  https://docs.camunda.org/manual/7.15/user-guide/process-engine/database/database-schema/[Database Schema]

=== Workshop 2 - Modeling DMN, Executing and Operating Workflow
- https://camunda.com/dmn/[DMN Basics]
- Techincal Modeling making a workflow executable
- https://camunda.com/products/camunda-platform/cockpit/[Camunda Cockpit]

=== Workshop 3 - Project setup and deployment
- Camunda platform installation options
** Spring-boot
** Tomcat Servlet and other
** https://docs.camunda.org/manual/7.16/installation/
- Camunda Platform and REST API Architecture
** https://camunda.com/wp-content/uploads/2020/09/TB-Camunda_Reference_Architecture-092520.pdf[Camunda architecture]
** https://docs.camunda.org/manual/7.16/user-guide/process-engine/multi-tenancy/[Camunda Multitenancy Official Doc]
- https://github.com/camunda/docker-camunda-bpm-platform[Camunda Docker] image and docs
- https://github.com/camunda-community-hub/camunda-helm/tree/main/charts/camunda-bpm-platform[Camunda Kubernetes] with HELM
- https://github.com/camunda/docker-camunda-bpm-platform[Official Camunda Docker Image]
- https://github.com/camunda-community-hub/camunda-helm/tree/main/charts/camunda-bpm-platform[Official Camunda HELM Chart]
- https://hub.docker.com/r/camunda/camunda-bpm-platform[Docker HUB Camunda Platform] see tags for options
- https://github.com/plungu/camunda-helm[forked opinionated HELM chart]

//==== Integration Patterns
//* AMQP Pub/Sub
//* Async Messaging
//* Synchronous service tasks REST
//* External Tasks

//==== Infrastructure and Architecture
//- See https://docs.camunda.org/manual/7.15/introduction/supported-environments/[Supported Environments] to ensure the right infra is chosen
//- https://camunda.com/wp-content/uploads/2020/09/TB-Camunda_Reference_Architecture-092520.pdf[Camunda Architecture Options PDF]
//- https://docs.camunda.org/manual/latest/update/[Upgrade Path and Practice]
//- Blue green deployment with camunda

//Additionally, we spent time running with Docker Tomcact Image and Spring-Boot for local development.
//
//- https://plungu.github.io/camunda-react-springboot-example/index.html[camunda-poc-starter ordering usecase]
//===== Running Local Dev
//- <<example-camunda-docker-tomcat,Run the Camunda Tomcat Docker Image>>
//- <<example-camunda-docker-springboot,Run Camunda Spring-Boot with Docker>>
//- <<example-camunda-helm,Run Camunda HELM>>
//- <<best-practice-securing-db-connection,Configuring a SSL/TLS connection from Camunda application to Postgres Database>>



=== Use Case - Customer Onboarding
IT wants to use this process to validate technical capability

==== Workflow
====
-	Get data from customer interface
-	Validate data format
-	Call real time validation service (like id-card or licence number validation)
-	Send feed-back to interface
-	Send e-mail validation (Accuant for ID verification / onboarding)
-	Send phone validation (Plivo for phone number verification)
-	Call asynchronous validation process (like KYC, credit card check, ...)
-	Get all validation feedback
**	send reminder if no feedback yet (e-mail validation for example)
-	Decide status based on feedback / timeout
-	Communicate customer onboarding status
**	E-mail to customer (with specific drop off point?)
**	Notification to back office (depending on country)
**	Reminder @specific intervals (30 days?) If no evolution of case
-	Create data transfer for credit check/scoring

====

=== Use Case - Damage Report

Business is interested in this use case because it's a complex and challenging  process now and they want to see it modeled in BPMN and DMN.

==== Workflow
====
*Process*

*	Get data to trigger process
**	Vehicle ID (licence plate)
**	Responsible of incident
**	Counter party
**	Type of damage
**	Location
**	Before / during / after reservation?
*	Validate damage request
*	Acknowledge damage request
*	If no responsible: launch damage allocation flow:
**	Get last 3 trips
**	Contact last 3 customers
**	Investigate
**	Update case.
*	Allocate case to agent (based on severity, area, …)
*	If need more information :
**	contact user
**	request extra data
**	save extra data
*	need field agent intervention?
**	find agent = dispatch agenda update (alert) + create workorder if needed
**	plan inspection
**	inspection
**	update with inspection result to the case
*	Inform third parties
**	Impacted service
**	Insurance
**	Depending on severity (workorder)
***	Inspect vehicle (accident only - Estimate cost / time / urgency)
***	Cancellation of next reservation
***	Appointment to garage
**	If included in contract
***	Replacement vehicle request
**	Trigger damage repair
***	Vehicle pickup
***	Inform insurance
*	Update driver profile
*	Update vehicle profile
*	Send bill (when workorder is validated by garage)
*	Close case

*Process possible customization:*

* Call a different API to validate ID/licence

*Data*

**	Vehicle
**	Vehicle ID (VIN)
**	Vehicle licence plate
**	Vehicle brand
**	Vehicle model
**	Vehicle type
**	Vehicle colour
**	delivery or pick up date
**	in-fleet / de-fleet date?
**	…
-	Damage
**	Vehicle ID (licence plate)
**	Responsible of incident
**	Place
**	Counter party
**	Type of damage
**	Estimated urgency
**	Estimated cost
**	Estimated time to fix
**	Insurance request ID
**	Garage called
**	Billing
**	Dates
***	Creation
***	Last update…
**	Status

Decision table to determine insurance + garage:

* Country, brand of vehicle

====

=== [[poc-integrations]] PoC Integrations

* [x] Pub/Sub with workflow
** Messaging through Kafka
* [x] Integration with Salesforce
** Creation, update and deletion of case/object
* [x] Notification and Validation
//** Twilio SMS
** Email Integration
** Camunda Element Template for Quick Configuration of Integration
//* Mock CreditCard integrations
* [x] UI integrations
** Start workflow from UI and message interaction
** Complete work based on async notification to third party by choreographing the user experience


















