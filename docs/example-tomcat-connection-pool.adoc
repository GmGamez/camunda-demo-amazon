## Use Case: How to use Tomcat Database Connection Pooling

TIP: See the application-tcpool.yaml for configuration example

By default spring-boot will use *hikari* if it's on the class-path. This is normally a good thing as it's the optimized for performance.

See benefits of hikari: https://www.baeldung.com/hikaricp#introduction[Hikari Benefits]

=== If you want to use Tomcat-CP
You must add the correct dependencies in the Class Path via POM and you must exclude Hikari.

```
<!-- DataSource -->
<dependency>
    <groupId>com.h2database</groupId>
    <artifactId>h2</artifactId>
</dependency>
<dependency>
  <groupId>org.apache.tomcat</groupId>
  <artifactId>tomcat-jdbc</artifactId>
  <version>9.0.10</version>
</dependency>

<!-- required to use H2 as a file based database  (Otherwise it's In-Memory) -->
<dependency>
  <groupId>org.springframework.boot</groupId>
  <artifactId>spring-boot-starter-jdbc</artifactId>
    <exclusions>
        <exclusion>
            <groupId>com.zaxxer</groupId>
            <artifactId>HikariCP</artifactId>
        </exclusion>
    </exclusions>
</dependency>
```

### Architecture

Tomcat Pool may be the preferred connection pool in some circumstances.