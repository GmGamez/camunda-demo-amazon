### [[example-camunda-storing-variables]] Example: Storing Variables

==== Primitives serialized as primitives, persisted as primitive type
```JSON

    "variables": {
        "approved":
        {
            "value": false
            "type":"Boolean"
        },
        "count":
        {
            "value": 10
            "type":"Integer"
        }
        "name":
        {
            "value": "Paul"
            "type":"String"
        },
        "cutoffDate":
        {
            "value": "2021-05-13T00:00:00.000UTC+12:00",
            "type": "Date"
        }
    }

```
==== JSON serialized as Spin JAVA Object, persisted as BLOB
```JSON

    "variables": {
        "address":
        {
            "value":"{\"type\": \"PostalAddress\",\"addressLocality\": \"Denver\",\"addressRegion\": \"CO\",\"postalCode\": \"80209\",\"streetAddress\": \"7 S. Broadway\"}",
        "type":"Json"
        }
    }

```
==== JSON string serialized as Java Object, persisted as a BLOB
```JSON
	"variables": {
		"contact":
		{
			"value": "{\"name\": \"Paul\", \"email\": \"Paul.Lungu@camunda.com\"}",
			"type": "Object",
			"valueInfo":
			{
				"objectTypeName": "com.camunda.poc.starter.entity.Contact",
				"serializationDataFormat": "application/json"
			}
	    }
```

==== Java object serialized as Java Object, persited as BLOB
```JSON
	"variables": {
		"contact":
		{
			"value": "{\"name\": \"Paul\", \"email\": \"Paul.Lungu@camunda.com\"}",
			"type": "Object",
			"valueInfo":
			{
				"objectTypeName": "com.camunda.poc.starter.entity.Contact",
				"serializationDataFormat": "application/x-java-serialized-object"
			}
	    }
	}
```

==== JSON String serialized as Arraylist and persisted as BLOB
```JSON
    "variables": {
        "users": {
            "value": "[ { \"firstName\": \"Jane\", \"lastName\":\"Smith\", \"age\":\"25\" ,\"birthMonth\":\"6\" ,\"birthDate\":\"0\",\"birthYear\":\"1994\" ,\"address1\":\"783 Mulligan CT\" ,\"zipCode\":\"90011\" ,\"state\":\"CA\" }, { \"firstName\": \"Jane\", \"lastName\":\"Smith\", \"age\":\"25\" ,\"birthMonth\":\"6\" ,\"birthDate\":\"0\",\"birthYear\":\"1994\" ,\"address1\":\"783 Mulligan CT\" ,\"zipCode\":\"90011\" ,\"state\":\"CA\" } ]",
            "type": "object",
            "valueInfo": {
                "objectTypeName": "java.util.ArrayList",
                "serializationDataFormat": "application/json"
            }
        }
    }
```
====== Using Java API
```Java
ObjectValueImpl value = (ObjectValueImpl) Variables.objectValue("[ { \"firstName\": \"Jane\", \"lastName\":\"Smith\", \"age\":\"25\" ,\"birthMonth\":\"6\" ,\"birthDate\":\"0\",\"birthYear\":\"1994\" ,\"address1\":\"783 Mulligan CT\" ,\"zipCode\":\"90011\" ,\"state\":\"CA\" }, { \"firstName\": \"Jane\", \"lastName\":\"Smith\", \"age\":\"25\" ,\"birthMonth\":\"6\" ,\"birthDate\":\"0\",\"birthYear\":\"1994\" ,\"address1\":\"783 Mulligan CT\" ,\"zipCode\":\"90011\" ,\"state\":\"CA\" } ]")

      .serializationDataFormat(SerializationDataFormats.JSON)
      .setTransient(false)
      .create();

value.setObjectTypeName("java.util.ArrayList");

.setVariable("users", value);
```
==== Transient Variables, not persisted in Camunda but can be used in Workflow execution
```JSON

    "variables": {
        "approved":
        {
            "value": false
            "type":"Boolean"
            "isTransient": true
		},
        "count":
        {
            "value": 10
            "type":"Integer"
            "isTransient": true
        }
        "name":
        {
            "value": "Paul"
            "type":"String"
            "isTransient": true
        },
        "cutoffDate":
        {
            "value": "2021-05-13T00:00:00.000UTC+12:00",
            "type": "Date"
            "isTransient": true
        },
       "address":
        {
            "value":"{\"type\": \"PostalAddress\",\"addressLocality\": \"Denver\",\"addressRegion\": \"CO\",\"postalCode\": \"80209\",\"streetAddress\": \"7 S. Broadway\"}",
            "type":"Json",
            "isTransient": true
        }
    }

```

==== For more on variables see

<<best-practice-handling-business-data, Handling Busines Data in Workflow>>

https://camunda.com/best-practices/handling-data-in-processes/[Understanding Business Data in Workflows]

https://camunda.com/best-practices/enhancing-tasklists-with-business-data/[Understand how to scale business data in Camunda]

https://camunda.com/best-practices/performance-tuning-camunda/#_common_pitfalls_with_variables[Common pitfalls when storing process variables]

https://docs.camunda.org/manual/latest/user-guide/data-formats/data-formats-in-processes/[Data Formats]

https://docs.camunda.org/manual/latest/user-guide/data-formats/json[JSON Data Formats]

https://docs.camunda.org/manual/7.15/user-guide/process-engine/variables/#supported-variable-values[Supported Variables]

https://docs.camunda.org/manual/7.15/user-guide/process-engine/variables/#transient-variables[Transient Variables]

