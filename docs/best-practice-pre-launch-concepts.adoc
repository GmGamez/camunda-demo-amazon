== [[pre-launch-concepts]]Important Pre-Launch Concepts

=== History and Database
- [x] Database Growing Test - Run database growth tests. Base these tests on the amount
of data that would exist in the Runtime and History
** For *runtime* estimate length of time, start to end, of a workflow instance.
** For *history* the test should be based on retention policy
- [x] *History Clean Up* - This must be set before production!!!
** See https://docs.camunda.org/manual/latest/user-guide/process-engine/history/#history-cleanup[History Cleanup Doc]
- [x] *Database Config*
** (HikariCP) configured - Preferably use HikariCP and configure itâ€™s https://github.com/brettwooldridge/HikariCP#configuration-knobs-baby[settings]
using spring.datasource.hikari.* properties.
** *Datasource* pools configured according to baseline formula.
*** See https://camunda.com/best-practices/performance-tuning-camunda/#_tuning_the_database_connection_pool[Tuning the connection pool]
*** https://github.com/brettwooldridge/HikariCP/wiki/About-Pool-Sizing[Connection Pool Sizing]

IMPORTANT: Database performance is affected by model design. Additionally,
model design directly influences https://docs.camunda.org/manual/latest/user-guide/process-engine/transactions-in-processes/[Transactions in Camunda].
See more about model design in the following section *_Model Review_*.

=== Modeling and Design
- [x] https://camunda.com/best-practices/creating-readable-process-models/[Create Readable Process Models]
* Model left to right for understanding
* Establish Good naming conventions
* Establish good governance of process models
- [x] Look through the https://camunda.com/best-practices/dealing-with-problems-and-exceptions/#knowing-typical-dos-and-donts-for-save-points[Do's and Dont's].
Make sure your models follows best practices.

NOTE: The https://camunda.com/best-practices/dealing-with-problems-and-exceptions/#knowing-typical-dos-and-donts-for-save-points[Do's and Dont's]
are related to transactions in Camunda and affect database performance. See more about https://docs.camunda.org/manual/7.5/user-guide/process-engine/transactions-in-processes/[Transactions in Camunda]

* Understand how and when to <<business-data-in-workflow,store process variables>>


=== Basic System Monitoring
- [x] Technical visibility into Camunda
** Should have visibility to see how the hardware and software environment (not specific to Camunda) reacts in different situations.
See https://camunda.com/best-practices/operating-camunda/#__strong_setting_up_strong_monitoring_and_alarming[Monitoring Startegy]
* To integrate Camunda into your monitoring you can add some Camunda indicators. See https://camunda.com/best-practices/operating-camunda/#_monitoring_strong_performance_strong_indicators[Camunda Indicators]
- [x] Log Drain - Often it's useful to add Java logging from Camunda into your log drain system. See https://docs.camunda.org/manual/latest/user-guide/logging/[Logging]

=== Load testing
- [x] Test Peak Load
- [x] Test Average Load
- [x] Most Used API's - This is use case specific
* Baseline methodology - no test is absolute - all tests are relative
* KPI methodology - you cannot tell what is normal from one test run. You must define KPI's and test to meet or exceed KPI's.
* QA performance tests for anecdotal info on performance baseline.
See https://github.com/camunda/camunda-bpm-platform/tree/master/qa/performance-tests-engine[QA Performance Tests]

IMPORTANT: QA performance tests are relative and don't provide absolute
numbers. Additionally they don't test end-to-end performance.


=== Job Executor
- [x] Tune the job executor for baseline performance

** https://docs.camunda.org/manual/latest/user-guide/process-engine/the-job-executor/[How the job executor works]
** https://docs.camunda.org/manual/latest/introduction/architecture/#the-job-executor-in-a-clustered-environment[How job executor works in cluster]
** https://camunda.com/best-practices/performance-tuning-camunda/#_tuning_the_job_executor[Basic tuning the job executor]

TIP: Job Executor Tuning Approach

```
- Start with the number of threads = CPU cores * 1.5

- Increase queue size stepwise until there is no gain in throughput any more because all threads are "busy" waiting for i/o

- Now increase worker threads and afterward queue size and always check that this improves throughput

- Whenever you reach a limit you found your upper configuration limit, which is typically optimal for production.
```

=== Appropriate Test Coverage
- [x] Ensure you have tested your workflow. See https://camunda.com/best-practices/testing-process-definitions/[Testing Process Definitions]

=== Securing Camunda
- [x] Be sure to secure the necessary aspects of Camunda. See https://camunda.com/best-practices/securing-camunda/[Securing Camunda]

=== Failover and Recovery Plan
- [x] Ensure the appropriate backup strategy is in place.

** https://camunda.com/best-practices/operating-camunda/#__strong_backing_up_strong_camunda[Backing up Camunda]
** https://camunda.com/best-practices/performance-tuning-camunda/#_clustering[Understand Clustering]
** https://docs.camunda.org/manual/7.12/introduction/architecture/#clustering-model[More on clustering and Architecture]
** https://docs.camunda.org/manual/7.12/introduction/supported-environments/#database-clustering-replication[Database Replication]

=== Customer Success Path
- [x] https://camunda.com/best-practices/following-the-customer-success-path/[Follow the customer success path]
